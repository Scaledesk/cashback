!function(a){"use strict";var b=function(a,b){this.init("simplecolorpicker",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e=this;if(e.type=b,e.$select=a(c),e.$select.hide(),e.options=a.extend({},a.fn.simplecolorpicker.defaults,d),e.$colorList=null,e.options.picker===!0){var f=e.$select.find("> option:selected").text();e.$icon=a('<span class="simplecolorpicker icon" title="'+f+'" style="background-color: '+e.$select.val()+';" role="button" tabindex="0"></span>').insertAfter(e.$select),e.$icon.on("click."+e.type,a.proxy(e.showPicker,e)),e.$picker=a('<span class="simplecolorpicker picker '+e.options.theme+'"></span>').appendTo(document.body),e.$colorList=e.$picker,a(document).on("mousedown."+e.type,a.proxy(e.hidePicker,e)),e.$picker.on("mousedown."+e.type,a.proxy(e.mousedown,e))}else e.$inline=a('<span class="simplecolorpicker inline '+e.options.theme+'"></span>').insertAfter(e.$select),e.$colorList=e.$inline;e.$select.find("> option").each(function(){var b=a(this),c=b.val(),d=b.is(":selected"),f=b.is(":disabled"),g="";d===!0&&(g=" data-selected");var h="";f===!0&&(h=" data-disabled");var i="";f===!1&&(i=' title="'+b.text()+'"');var j="";f===!1&&(j=' role="button" tabindex="0"');var k=a('<span class="color"'+i+' style="background-color: '+c+';" data-color="'+c+'"'+g+h+j+"></span>");e.$colorList.append(k),k.on("click."+e.type,a.proxy(e.colorSpanClicked,e));var l=b.next();l.is("optgroup")===!0&&e.$colorList.append('<span class="vr"></span>')})},selectColor:function(b){var c=this,d=c.$colorList.find("> span.color").filter(function(){return a(this).data("color").toLowerCase()===b.toLowerCase()});d.length>0?c.selectColorSpan(d):console.error("The given color '"+b+"' could not be found")},showPicker:function(){var a=this.$icon.offset();this.$picker.css({left:a.left-6,top:a.top+this.$icon.outerHeight()}),this.$picker.show(this.options.pickerDelay)},hidePicker:function(){this.$picker.hide(this.options.pickerDelay)},selectColorSpan:function(a){var b=a.data("color"),c=a.prop("title");a.siblings().removeAttr("data-selected"),a.attr("data-selected",""),this.options.picker===!0&&(this.$icon.css("background-color",b),this.$icon.prop("title",c),this.hidePicker()),this.$select.val(b)},colorSpanClicked:function(b){a(b.target).is("[data-disabled]")===!1&&(this.selectColorSpan(a(b.target)),this.$select.trigger("change"))},mousedown:function(a){a.stopPropagation(),a.preventDefault()},destroy:function(){this.options.picker===!0&&(this.$icon.off("."+this.type),this.$icon.remove(),a(document).off("."+this.type)),this.$colorList.off("."+this.type),this.$colorList.remove(),this.$select.removeData(this.type),this.$select.show()}},a.fn.simplecolorpicker=function(c){var d=a.makeArray(arguments);return d.shift(),this.each(function(){var e=a(this),f=e.data("simplecolorpicker"),g="object"===typeof c&&c;void 0===f&&e.data("simplecolorpicker",f=new b(this,g)),"string"===typeof c&&f[c].apply(f,d)})},a.fn.simplecolorpicker.defaults={theme:"",picker:!1,pickerDelay:0}}(jQuery);