!function(a){var b={url:!1,callback:!1,target:!1,duration:120,on:"mouseover",touch:!0,onZoomIn:!1,onZoomOut:!1,magnify:1};a.zoom=function(b,c,d,e){var f,g,h,i,j,k,l,m=a(b),n=m.css("position"),o=a(c);return m.css("position",/(absolute|fixed)/.test(n)?n:"relative"),m.css("overflow","hidden"),d.style.width=d.style.height="",a(d).addClass("zoomImg").css({position:"absolute",top:0,left:0,opacity:0,width:d.width*e,height:d.height*e,border:"none",maxWidth:"none",maxHeight:"none"}).appendTo(b),{init:function(){g=m.outerWidth(),f=m.outerHeight(),c===m[0]?(i=g,h=f):(i=o.outerWidth(),h=o.outerHeight()),j=(d.width-g)/i,k=(d.height-f)/h,l=o.offset()},move:function(a){var b=a.pageX-l.left,c=a.pageY-l.top;c=Math.max(Math.min(c,h),0),b=Math.max(Math.min(b,i),0),d.style.left=b*-j+"px",d.style.top=c*-k+"px"}}},a.fn.zoom=function(c){return this.each(function(){var n,d=a.extend({},b,c||{}),e=d.target||this,f=this,g=a(f),h=a(e),i=document.createElement("img"),j=a(i),k="mousemove.zoom",l=!1,m=!1;(d.url||(n=g.find("img"),n[0]&&(d.url=n.data("src")||n.attr("src")),d.url))&&(!function(){var a=h.css("position"),b=h.css("overflow");g.one("zoom.destroy",function(){g.off(".zoom"),h.css("position",a),h.css("overflow",b),j.remove()})}(),i.onload=function(){function c(c){b.init(),b.move(c),j.stop().fadeTo(a.support.opacity?d.duration:0,1,a.isFunction(d.onZoomIn)?d.onZoomIn.call(i):!1)}function h(){j.stop().fadeTo(d.duration,0,a.isFunction(d.onZoomOut)?d.onZoomOut.call(i):!1)}var b=a.zoom(e,f,i,d.magnify);"grab"===d.on?g.on("mousedown.zoom",function(d){1===d.which&&(a(document).one("mouseup.zoom",function(){h(),a(document).off(k,b.move)}),c(d),a(document).on(k,b.move),d.preventDefault())}):"click"===d.on?g.on("click.zoom",function(d){return l?void 0:(l=!0,c(d),a(document).on(k,b.move),a(document).one("click.zoom",function(){h(),l=!1,a(document).off(k,b.move)}),!1)}):"toggle"===d.on?g.on("click.zoom",function(a){l?h():c(a),l=!l}):"mouseover"===d.on&&(b.init(),g.on("mouseenter.zoom",c).on("mouseleave.zoom",h).on(k,b.move)),d.touch&&g.on("touchstart.zoom",function(a){a.preventDefault(),m?(m=!1,h()):(m=!0,c(a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]))}).on("touchmove.zoom",function(a){a.preventDefault(),b.move(a.originalEvent.touches[0]||a.originalEvent.changedTouches[0])}),a.isFunction(d.callback)&&d.callback.call(i)},i.src=d.url)})},a.fn.zoom.defaults=b}(window.jQuery);