!function(a){"use strict";var b=function(b,c){this.options=c,this.$tabs=a(b),this._accordionVisible=!1,this._initAccordion(),this._checkStateOnResize();var d=this;setTimeout(function(){d.checkState()},0)};b.DEFAULTS={accordionClass:"visible-xs",tabsClass:"hidden-xs",accordionTemplate:function(a,b,c,d){return'<div class="panel panel-default">   <div class="panel-heading">      <h4 class="panel-title">      </h4>   </div>   <div id="'+b+'" class="panel-collapse collapse '+(d?"in":"")+'">       <div class="panel-body js-tabcollapse-panel-body">       </div>   </div></div>'}},b.prototype.checkState=function(){this.$tabs.is(":visible")&&this._accordionVisible?(this.showTabs(),this._accordionVisible=!1):this.$accordion.is(":visible")&&!this._accordionVisible&&(this.showAccordion(),this._accordionVisible=!0)},b.prototype.showTabs=function(){var b=this;this.$tabs.trigger(a.Event("show-tabs.bs.tabcollapse"));var c=this.$accordion.find(".js-tabcollapse-panel-heading").detach();c.each(function(){var c=a(this),d=c.data("bs.tabcollapse.parentLi"),e=b._panelHeadingToTabHeading(c);d.removeClass("active"),d.parent().hasClass("dropdown-menu")&&!d.siblings("li").hasClass("active")&&d.parent().parent().removeClass("active"),e.hasClass("collapsed")?e.removeClass("collapsed"):(d.addClass("active"),d.parent().hasClass("dropdown-menu")&&d.parent().parent().addClass("active")),d.append(c)}),a("li").hasClass("active")||a("li").first().addClass("active");var d=this.$accordion.find(".js-tabcollapse-panel-body");if(d.each(function(){var b=a(this),c=b.data("bs.tabcollapse.tabpane");c.append(b.children("*").detach())}),this.$accordion.html(""),this.options.updateLinks){var e=a(this.options.tabContentSelector)||this.$tabs.siblings(".tab-content");e.find('[data-toggle-was="tab"], [data-toggle-was="pill"]').each(function(){var b=a(this),c=b.attr("href").replace(/-collapse$/g,"");b.attr({"data-toggle":b.attr("data-toggle-was"),"data-toggle-was":"","data-parent":"",href:c})})}this.$tabs.trigger(a.Event("shown-tabs.bs.tabcollapse"))},b.prototype.showAccordion=function(){this.$tabs.trigger(a.Event("show-accordion.bs.tabcollapse"));var b=this.$tabs.find('li:not(.dropdown) [data-toggle="tab"], li:not(.dropdown) [data-toggle="pill"]'),c=this;if(b.each(function(){var b=a(this),d=b.parent();b.data("bs.tabcollapse.parentLi",d),c.$accordion.append(c._createAccordionGroup(c.$accordion.attr("id"),b.detach()))}),this.options.updateLinks){var d=this.$accordion.attr("id"),e=this.$accordion.find(".js-tabcollapse-panel-body");e.find('[data-toggle="tab"], [data-toggle="pill"]').each(function(){var b=a(this),c=b.attr("href")+"-collapse";b.attr({"data-toggle-was":b.attr("data-toggle"),"data-toggle":"collapse","data-parent":"#"+d,href:c})})}this.$tabs.trigger(a.Event("shown-accordion.bs.tabcollapse"))},b.prototype._panelHeadingToTabHeading=function(a){var b=a.attr("href").replace(/-collapse$/g,"");return a.attr({"data-toggle":"tab",href:b,"data-parent":""}),a},b.prototype._tabHeadingToPanelHeading=function(a,b,c,d){return a.addClass("js-tabcollapse-panel-heading "+(d?"":"collapsed")),a.attr({"data-toggle":"collapse","data-parent":"#"+c,href:"#"+b}),a},b.prototype._checkStateOnResize=function(){var b=this;a(window).resize(function(){clearTimeout(b._resizeTimeout),b._resizeTimeout=setTimeout(function(){b.checkState()},100)})},b.prototype._initAccordion=function(){this.$accordion=a('<div class="panel-group '+this.options.accordionClass+'" id="'+this.$tabs.attr("id")+'-accordion"></div>'),this.$tabs.after(this.$accordion),this.$tabs.addClass(this.options.tabsClass);var b=a(this.options.tabContentSelector)||this.$tabs.siblings(".tab-content");b.addClass(this.options.tabsClass)},b.prototype._createAccordionGroup=function(b,c){var d=c.attr("data-target"),e=c.data("bs.tabcollapse.parentLi").is(".active");d||(d=c.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));var f=a(d),g=f.attr("id")+"-collapse",h=a(this.options.accordionTemplate(c,g,b,e));return h.find(".panel-heading > .panel-title").append(this._tabHeadingToPanelHeading(c,g,b,e)),h.find(".panel-body").append(f.children("*").detach()).data("bs.tabcollapse.tabpane",f),h},a.fn.tabCollapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tabcollapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"===typeof c&&c);e||d.data("bs.tabcollapse",new b(this,f))})},a.fn.tabCollapse.Constructor=b}(window.jQuery);