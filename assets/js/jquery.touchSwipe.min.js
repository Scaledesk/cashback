!function(a){"function"===typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a(jQuery)}(function(a){function C(b){return!b||void 0!==b.allowPageScroll||void 0===b.swipe&&void 0===b.swipeStatus||(b.allowPageScroll=h),void 0!==b.click&&void 0===b.tap&&(b.tap=b.click),b||(b={}),b=a.extend({},a.fn.swipe.defaults,b),this.each(function(){var c=a(this),d=c.data(A);d||(d=new D(this,b),c.data(A,d))})}function D(o,B){function bb(b){if(!Kb()&&!(a(b.target).closest(B.excludedElements,R).length>0)){var d,c=b.originalEvent?b.originalEvent:b,e=x?c.touches[0]:c;return S=t,x?T=c.touches.length:b.preventDefault(),I=0,J=null,P=null,K=0,L=0,M=0,N=1,O=0,U=Pb(),Q=Sb(),Ib(),!x||T===B.fingers||B.fingers===r||qb()?(Mb(0,e),V=_b(),2==T&&(Mb(1,c.touches[1]),L=M=Vb(U[0].start,U[1].start)),(B.swipeStatus||B.pinchStatus)&&(d=ib(c,S))):d=!1,d===!1?(S=w,ib(c,S),d):(B.hold&&(_=setTimeout(a.proxy(function(){R.trigger("hold",[c.target]),B.hold&&(d=B.hold.call(R,c,c.target))},this),B.longTapThreshold)),Lb(!0),null)}}function cb(a){var b=a.originalEvent?a.originalEvent:a;if(S!==v&&S!==w&&!Jb()){var c,d=x?b.touches[0]:b,e=Nb(d);if(W=_b(),x&&(T=b.touches.length),B.hold&&clearTimeout(_),S=u,2==T&&(0==L?(Mb(1,b.touches[1]),L=M=Vb(U[0].start,U[1].start)):(Nb(b.touches[1]),M=Vb(U[0].end,U[1].end),P=Xb(U[0].end,U[1].end)),N=Wb(L,M),O=Math.abs(L-M)),T===B.fingers||B.fingers===r||!x||qb()){if(J=$b(e.start,e.end),ob(a,J),I=Yb(e.start,e.end),K=Ub(),Qb(J,I),(B.swipeStatus||B.pinchStatus)&&(c=ib(b,S)),!B.triggerOnTouchEnd||B.triggerOnTouchLeave){var f=!0;if(B.triggerOnTouchLeave){var g=ac(this);f=bc(e.end,g)}!B.triggerOnTouchEnd&&f?S=hb(u):B.triggerOnTouchLeave&&!f&&(S=hb(v)),(S==w||S==v)&&ib(b,S)}}else S=w,ib(b,S);c===!1&&(S=w,ib(b,S))}}function db(a){var b=a.originalEvent;return x&&b.touches.length>0?(Hb(),!0):(Jb()&&(T=Y),W=_b(),K=Ub(),lb()||!kb()?(S=w,ib(b,S)):B.triggerOnTouchEnd||0==B.triggerOnTouchEnd&&S===u?(a.preventDefault(),S=v,ib(b,S)):!B.triggerOnTouchEnd&&xb()?(S=v,jb(b,S,l)):S===u&&(S=w,ib(b,S)),Lb(!1),null)}function eb(){T=0,W=0,V=0,L=0,M=0,N=1,Ib(),Lb(!1)}function fb(a){var b=a.originalEvent;B.triggerOnTouchLeave&&(S=hb(v),ib(b,S))}function gb(){R.unbind(D,bb),R.unbind(H,eb),R.unbind(E,cb),R.unbind(F,db),G&&R.unbind(G,fb),Lb(!1)}function hb(a){var b=a,c=nb(),d=kb(),e=lb();return!c||e?b=w:!d||a!=u||B.triggerOnTouchEnd&&!B.triggerOnTouchLeave?!d&&a==v&&B.triggerOnTouchLeave&&(b=w):b=v,b}function ib(a,b){var c=void 0;return ub()||tb()?c=jb(a,b,j):(rb()||qb())&&c!==!1&&(c=jb(a,b,k)),Fb()&&c!==!1?c=jb(a,b,m):Gb()&&c!==!1?c=jb(a,b,n):Eb()&&c!==!1&&(c=jb(a,b,l)),b===w&&eb(a),b===v&&(x?0==a.touches.length&&eb(a):eb(a)),c}function jb(h,i,o){var p=void 0;if(o==j){if(R.trigger("swipeStatus",[i,J||null,I||0,K||0,T,U]),B.swipeStatus&&(p=B.swipeStatus.call(R,h,i,J||null,I||0,K||0,T,U),p===!1))return!1;if(i==v&&sb()){if(R.trigger("swipe",[J,I,K,T,U]),B.swipe&&(p=B.swipe.call(R,h,J,I,K,T,U),p===!1))return!1;switch(J){case b:R.trigger("swipeLeft",[J,I,K,T,U]),B.swipeLeft&&(p=B.swipeLeft.call(R,h,J,I,K,T,U));break;case c:R.trigger("swipeRight",[J,I,K,T,U]),B.swipeRight&&(p=B.swipeRight.call(R,h,J,I,K,T,U));break;case d:R.trigger("swipeUp",[J,I,K,T,U]),B.swipeUp&&(p=B.swipeUp.call(R,h,J,I,K,T,U));break;case e:R.trigger("swipeDown",[J,I,K,T,U]),B.swipeDown&&(p=B.swipeDown.call(R,h,J,I,K,T,U))}}}if(o==k){if(R.trigger("pinchStatus",[i,P||null,O||0,K||0,T,N,U]),B.pinchStatus&&(p=B.pinchStatus.call(R,h,i,P||null,O||0,K||0,T,N,U),p===!1))return!1;if(i==v&&pb())switch(P){case f:R.trigger("pinchIn",[P||null,O||0,K||0,T,N,U]),B.pinchIn&&(p=B.pinchIn.call(R,h,P||null,O||0,K||0,T,N,U));break;case g:R.trigger("pinchOut",[P||null,O||0,K||0,T,N,U]),B.pinchOut&&(p=B.pinchOut.call(R,h,P||null,O||0,K||0,T,N,U))}}return o==l?(i===w||i===v)&&(clearTimeout($),clearTimeout(_),yb()&&!Bb()?(Z=_b(),$=setTimeout(a.proxy(function(){Z=null,R.trigger("tap",[h.target]),B.tap&&(p=B.tap.call(R,h,h.target))},this),B.doubleTapThreshold)):(Z=null,R.trigger("tap",[h.target]),B.tap&&(p=B.tap.call(R,h,h.target)))):o==m?(i===w||i===v)&&(clearTimeout($),Z=null,R.trigger("doubletap",[h.target]),B.doubleTap&&(p=B.doubleTap.call(R,h,h.target))):o==n&&(i===w||i===v)&&(clearTimeout($),Z=null,R.trigger("longtap",[h.target]),B.longTap&&(p=B.longTap.call(R,h,h.target))),p}function kb(){var a=!0;return null!==B.threshold&&(a=I>=B.threshold),a}function lb(){var a=!1;return null!==B.cancelThreshold&&null!==J&&(a=Rb(J)-I>=B.cancelThreshold),a}function mb(){return null!==B.pinchThreshold?O>=B.pinchThreshold:!0}function nb(){var a;return a=B.maxTimeThreshold&&K>=B.maxTimeThreshold?!1:!0}function ob(a,f){if(B.allowPageScroll===h||qb())a.preventDefault();else{var g=B.allowPageScroll===i;switch(f){case b:(B.swipeLeft&&g||!g&&B.allowPageScroll!=p)&&a.preventDefault();break;case c:(B.swipeRight&&g||!g&&B.allowPageScroll!=p)&&a.preventDefault();break;case d:(B.swipeUp&&g||!g&&B.allowPageScroll!=q)&&a.preventDefault();break;case e:(B.swipeDown&&g||!g&&B.allowPageScroll!=q)&&a.preventDefault()}}}function pb(){var a=vb(),b=wb(),c=mb();return a&&b&&c}function qb(){return!!(B.pinchStatus||B.pinchIn||B.pinchOut)}function rb(){return!(!pb()||!qb())}function sb(){var a=nb(),b=kb(),c=vb(),d=wb(),e=lb(),f=!e&&d&&c&&b&&a;return f}function tb(){return!!(B.swipe||B.swipeStatus||B.swipeLeft||B.swipeRight||B.swipeUp||B.swipeDown)}function ub(){return!(!sb()||!tb())}function vb(){return T===B.fingers||B.fingers===r||!x}function wb(){return 0!==U[0].end.x}function xb(){return!!B.tap}function yb(){return!!B.doubleTap}function zb(){return!!B.longTap}function Ab(){if(null==Z)return!1;var a=_b();return yb()&&a-Z<=B.doubleTapThreshold}function Bb(){return Ab()}function Cb(){return(1===T||!x)&&(isNaN(I)||I<B.threshold)}function Db(){return K>B.longTapThreshold&&I<s}function Eb(){return!(!Cb()||!xb())}function Fb(){return!(!Ab()||!yb())}function Gb(){return!(!Db()||!zb())}function Hb(){X=_b(),Y=event.touches.length+1}function Ib(){X=0,Y=0}function Jb(){var a=!1;if(X){var b=_b()-X;b<=B.fingerReleaseThreshold&&(a=!0)}return a}function Kb(){return!(R.data(A+"_intouch")!==!0)}function Lb(a){a===!0?(R.bind(E,cb),R.bind(F,db),G&&R.bind(G,fb)):(R.unbind(E,cb,!1),R.unbind(F,db,!1),G&&R.unbind(G,fb,!1)),R.data(A+"_intouch",a===!0)}function Mb(a,b){var c=void 0!==b.identifier?b.identifier:0;return U[a].identifier=c,U[a].start.x=U[a].end.x=b.pageX||b.clientX,U[a].start.y=U[a].end.y=b.pageY||b.clientY,U[a]}function Nb(a){var b=void 0!==a.identifier?a.identifier:0,c=Ob(b);return c.end.x=a.pageX||a.clientX,c.end.y=a.pageY||a.clientY,c}function Ob(a){for(var b=0;b<U.length;b++)if(U[b].identifier==a)return U[b]}function Pb(){for(var a=[],b=0;b<=5;b++)a.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return a}function Qb(a,b){b=Math.max(b,Rb(a)),Q[a].distance=b}function Rb(a){return Q[a]?Q[a].distance:void 0}function Sb(){var a={};return a[b]=Tb(b),a[c]=Tb(c),a[d]=Tb(d),a[e]=Tb(e),a}function Tb(a){return{direction:a,distance:0}}function Ub(){return W-V}function Vb(a,b){var c=Math.abs(a.x-b.x),d=Math.abs(a.y-b.y);return Math.round(Math.sqrt(c*c+d*d))}function Wb(a,b){var c=b/a*1;return c.toFixed(2)}function Xb(){return N<1?g:f}function Yb(a,b){return Math.round(Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)))}function Zb(a,b){var c=a.x-b.x,d=b.y-a.y,e=Math.atan2(d,c),f=Math.round(180*e/Math.PI);return f<0&&(f=360-Math.abs(f)),f}function $b(a,f){var g=Zb(a,f);return g<=45&&g>=0?b:g<=360&&g>=315?b:g>=135&&g<=225?c:g>45&&g<135?e:d}function _b(){var a=new Date;return a.getTime()}function ac(b){b=a(b);var c=b.offset(),d={left:c.left,right:c.left+b.outerWidth(),top:c.top,bottom:c.top+b.outerHeight()};return d}function bc(a,b){return a.x>b.left&&a.x<b.right&&a.y>b.top&&a.y<b.bottom}var C=x||z||!B.fallbackToMouseEvents,D=C?z?y?"MSPointerDown":"pointerdown":"touchstart":"mousedown",E=C?z?y?"MSPointerMove":"pointermove":"touchmove":"mousemove",F=C?z?y?"MSPointerUp":"pointerup":"touchend":"mouseup",G=C?null:"mouseleave",H=z?y?"MSPointerCancel":"pointercancel":"touchcancel",I=0,J=null,K=0,L=0,M=0,N=1,O=0,P=0,Q=null,R=a(o),S="start",T=0,U=null,V=0,W=0,X=0,Y=0,Z=0,$=null,_=null;try{R.bind(D,bb),R.bind(H,eb)}catch(ab){a.error("events not supported "+D+","+H+" on jQuery.swipe")}this.enable=function(){return R.bind(D,bb),R.bind(H,eb),R},this.disable=function(){return gb(),R},this.destroy=function(){return gb(),R.data(A,null),R},this.option=function(b,c){if(void 0!==B[b]){if(void 0===c)return B[b];B[b]=c}else a.error("Option "+b+" does not exist on jQuery.swipe.options");return null}}var b="left",c="right",d="up",e="down",f="in",g="out",h="none",i="auto",j="swipe",k="pinch",l="tap",m="doubletap",n="longtap",p="horizontal",q="vertical",r="all",s=10,t="start",u="move",v="end",w="cancel",x="ontouchstart"in window,y=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,z=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,A="TouchSwipe",B={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};a.fn.swipe=function(b){var c=a(this),d=c.data(A);if(d&&"string"===typeof b){if(d[b])return d[b].apply(this,Array.prototype.slice.call(arguments,1));a.error("Method "+b+" does not exist on jQuery.swipe")}else if(!d&&("object"===typeof b||!b))return C.apply(this,arguments);return c},a.fn.swipe.defaults=B,a.fn.swipe.phases={PHASE_START:t,PHASE_MOVE:u,PHASE_END:v,PHASE_CANCEL:w},a.fn.swipe.directions={LEFT:b,RIGHT:c,UP:d,DOWN:e,IN:f,OUT:g},a.fn.swipe.pageScroll={NONE:h,HORIZONTAL:p,VERTICAL:q,AUTO:i},a.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:r}});